# 🚀 快速啟動指南

## 系統需求

- Python 3.11+
- Streamlit 1.31.0+
- 網路連線（用於線上資料，非必需）

---

## 一鍵啟動

### Windows

```bash
python -m streamlit run app.py
```

### Linux/Mac

```bash
python -m streamlit run app.py
```

系統將自動在瀏覽器中開啟（通常是 `http://localhost:8501`）

---

## 首次使用步驟

### 1. 執行功能測試（可選但建議）

```bash
python test_enhanced_features.py
```

**預期輸出**：
```
✅ 快取管理器測試通過
✅ 日誌系統測試通過
✅ 配置管理測試通過
✅ 增強資料獲取器測試通過

總計: 4/4 測試通過
🎉 所有增強功能運作正常！
```

### 2. 啟動系統

```bash
python -m streamlit run app.py
```

### 3. 檢查系統狀態

首頁應該顯示：
```
✨ 專業版模式已啟用 | 快取系統 ✓ | 日誌記錄 ✓ | 配置管理 ✓ | 智慧重試 ✓
```

如果看到此訊息，表示所有增強功能已成功啟用！

### 4. 配置系統設定（可選）

1. 點擊側邊欄 「⚙️ 系統設定」
2. 調整以下設定（根據需求）：
   - **技術分析參數**: MA、RSI、MACD 等指標參數
   - **效能設定**: 快取有效期、API 重試次數
   - **介面設定**: 主題、語言、圖表高度
3. 點擊「💾 儲存」按鈕

---

## 核心功能使用

### 📊 股票分析

1. 點擊側邊欄「📊 股票分析」
2. 輸入股票代碼（例如：2330）
3. 選擇分析天數
4. 點擊「🔍 開始分析」

**功能**：
- K線圖表
- 技術指標（MA、RSI、MACD、KDJ、布林通道）
- 成交量分析
- 歷史價格數據

### ⚠️ 風險評估

1. 點擊側邊欄「⚠️ 風險評估」
2. 輸入股票代碼
3. 設定分析參數
4. 查看風險指標

**指標**：
- 波動率（標準差）
- VaR（風險值）
- Beta 係數
- Sharpe Ratio
- 最大回撤

### 💡 投資策略

1. 點擊側邊欄「💡 投資策略」
2. 輸入股票代碼
3. 選擇分析策略
4. 查看操作建議

**策略**：
- 趨勢追蹤
- 均線交叉
- RSI 超買超賣
- MACD 訊號
- 綜合評分

**回測功能**：
- 歷史績效驗證
- 勝率統計
- 報酬率分析

### 🎯 權證分析

1. 點擊側邊欄「🎯 權證分析」
2. 輸入標的股票代碼
3. 設定權證參數
4. 查看定價和 Greeks

**功能**：
- Black-Scholes 定價
- Greeks 計算（Delta、Gamma、Vega、Theta、Rho）
- 隱含波動率
- 權證篩選

### ⚙️ 系統設定

調整系統參數，優化使用體驗：

**技術分析參數** 📊
- 自訂各種技術指標的參數

**效能設定** ⚡
- 快取管理
- API 請求設定
- 查看快取統計

**介面設定** 🎨
- 主題色調
- 圖表高度
- 語言選擇

**快取管理** 💾
- 清空快取
- 匯出/匯入設定
- 重置預設值

---

## 常用操作

### 清空快取（獲取最新資料）

1. 系統設定 → 快取管理
2. 點擊「🗑️ 清空所有快取」

或在效能設定中點擊「🗑️ 清空快取」

### 查看日誌

日誌檔案位置：
- `logs/stock_system_YYYYMMDD.log` - 完整日誌
- `logs/errors_YYYYMMDD.log` - 僅錯誤

使用文字編輯器或命令查看：
```bash
# Windows
type logs\stock_system_20260110.log

# Linux/Mac
cat logs/stock_system_20260110.log
tail -f logs/stock_system_20260110.log  # 即時監控
```

### 備份設定

**方法 1**: 使用系統功能
1. 系統設定 → 快取管理
2. 點擊「📥 匯出系統設定」

**方法 2**: 手動備份
```bash
# 複製設定檔
cp config/system_settings.json config/system_settings_backup.json
```

### 重置系統

**重置設定**：
1. 系統設定 → 快取管理
2. 點擊「🔄 重置為預設值」

**完全重置**（清除所有資料）：
```bash
# 刪除設定檔
rm config/system_settings.json

# 清空日誌（可選）
rm -rf logs/*

# 重新啟動系統
python -m streamlit run app.py
```

---

## 快捷鍵

系統啟動後，在網頁中：

- `R` - 重新執行應用
- `C` - 清除快取並重新執行
- `?` - 顯示鍵盤快捷鍵
- `Esc` - 關閉側邊欄

---

## 效能優化建議

### 1. 調整快取有效期

根據使用習慣調整：

- **日內交易**: 1-2 分鐘（獲取較新資料）
- **波段交易**: 5-10 分鐘（平衡效能與新鮮度）
- **長期投資**: 30-60 分鐘（最佳效能）

設定位置：系統設定 → 效能設定 → 快取有效期

### 2. API 重試設定

如果網路不穩定：

- 增加最大重試次數（3 → 5）
- 增加重試延遲（2 → 5 秒）
- 增加請求超時（10 → 20 秒）

設定位置：系統設定 → 效能設定 → API 請求設定

### 3. 批次查詢優化

查詢多支股票時：
- 第一次會較慢（建立快取）
- 後續查詢極快（從快取讀取）
- 定期清空快取以獲取最新資料

---

## 疑難排解

### Q: 系統顯示「標準模式」而非「專業版模式」

**A**: 檢查增強模組是否正確安裝

```bash
# 執行測試
python test_enhanced_features.py

# 檢查檔案是否存在
ls backend/utils/cache_manager.py
ls backend/utils/logger.py
ls backend/config/settings.py
ls backend/modules/data_fetcher_enhanced.py
```

### Q: 無法獲取股票資料

**A**: 可能的原因和解決方案

1. **網路問題**
   - 檢查網路連線
   - 系統會自動切換到本地參考資料

2. **API 限流**
   - 等待 1 小時後重試
   - 或使用 VPN

3. **股票代碼錯誤**
   - 確認使用正確的台股代碼（4 位數字）
   - 例如：台積電 = 2330

### Q: 快取沒有生效

**A**: 檢查設定

1. 系統設定 → 效能設定
2. 確認「啟用資料快取」已勾選
3. 查看快取統計資訊是否有數據

### Q: 圖表顯示不正常

**A**:

1. 重新整理瀏覽器（F5）
2. 清除瀏覽器快取
3. 嘗試不同瀏覽器（建議 Chrome 或 Firefox）

### Q: 系統運行緩慢

**A**: 優化建議

1. **清空快取**
   - 系統設定 → 快取管理 → 清空快取

2. **檢查快取統計**
   - 如果快取項目過多（> 100），清理過期項目

3. **調整圖表高度**
   - 系統設定 → 介面設定 → 降低圖表高度

4. **重新啟動系統**
   - 關閉並重新啟動 Streamlit

---

## 資源連結

- **詳細文件**: `SYSTEM_UPGRADE_SUMMARY.md`
- **測試腳本**: `test_enhanced_features.py`
- **日誌目錄**: `logs/`
- **配置檔案**: `config/system_settings.json`

---

## 技術支援

如遇到問題：

1. 查看日誌檔案（`logs/errors_*.log`）
2. 執行測試腳本檢查功能狀態
3. 參考詳細文件 `SYSTEM_UPGRADE_SUMMARY.md`

---

## 提示與技巧

💡 **快速開始分析**
- 常用股票：2330（台積電）、2317（鴻海）、2454（聯發科）

💡 **批次分析**
- 在快取有效期內查詢多支股票，速度極快

💡 **定期維護**
- 每週清理一次過期快取
- 每月備份一次系統設定

💡 **效能監控**
- 定期查看快取統計資訊
- 根據使用情況調整 TTL

---

**系統版本**: v2.0 Professional
**最後更新**: 2026-01-10

🎉 **開始使用台灣股市投資分析系統，祝您投資順利！**
